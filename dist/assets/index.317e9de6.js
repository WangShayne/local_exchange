var te=Object.defineProperty,oe=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var j=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&j(e,n,t[n]);if(V)for(var n of V(t))re.call(t,n)&&j(e,n,t[n]);return e},O=(e,t)=>oe(e,ne(t));var X=(e,t,n)=>new Promise(($,u)=>{var b=r=>{try{i(n.next(r))}catch(H){u(H)}},p=r=>{try{i(n.throw(r))}catch(H){u(H)}},i=r=>r.done?$(r.value):Promise.resolve(r.value).then(b,p);i((n=n.apply(e,t)).next())});import{a as Y,b as Z,ao as se,Q as q,o as T,f as A,h as D,a5 as v,p as W,aD as G,N as ie,Y as z,cN as ce,v as B,j as F,bX as ge,cO as le,O as J,M as ue,bN as fe,cP as de,a8 as d,az as pe,e as C,bW as K,a1 as L,i as Q,a3 as he,a4 as me,z as N,a6 as He,a7 as Ce,H as Fe,B as $e,t as be,a2 as ye,k as U,T as x}from"./index.b177970f.js";/* empty css               *//* empty css                */import{u as ve}from"./useWindowSizeFn.78349dcf.js";import{a as Pe}from"./useContentViewHeight.3d0ad737.js";const _e=Y({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=Z("page-footer"),{getCalcContentWidth:t}=se();return{prefixCls:e,getCalcContentWidth:t}}});function Se(e,t,n,$,u,b){return T(),A("div",{class:W(e.prefixCls),style:G({width:e.getCalcContentWidth})},[D("div",{class:W(`${e.prefixCls}__left`)},[v(e.$slots,"left",{},void 0,!0)],2),v(e.$slots,"default",{},void 0,!0),D("div",{class:W(`${e.prefixCls}__right`)},[v(e.$slots,"right",{},void 0,!0)],2)],6)}const ee=q(_e,[["render",Se],["__scopeId","data-v-8d542cf5"]]);function Re(e){let t;ie(()=>{e(),z(()=>{t=!0})}),ce(()=>{t&&e()})}function we(e,t,n,$,u=0,b=B(0)){const p=B(null),{footerHeightRef:i}=Pe();let r={useLayoutFooter:!0};const H=a=>{r=a};function M(){z(()=>{w()})}function P(a,_="all"){var l,m,S,y;function h(o){return Number(o.replace(/[^\d]/g,""))}let g=0;const f="0px";if(a){const o=getComputedStyle(a),c=h((l=o==null?void 0:o.marginTop)!=null?l:f),s=h((m=o==null?void 0:o.marginBottom)!=null?m:f),k=h((S=o==null?void 0:o.paddingTop)!=null?S:f),I=h((y=o==null?void 0:o.paddingBottom)!=null?y:f);_==="all"?(g+=c,g+=s,g+=k,g+=I):_==="top"?(g+=c,g+=k):(g+=s,g+=I)}return g}function R(a){return a==null?null:a instanceof HTMLDivElement?a:a.$el}function w(){return X(this,null,function*(){var y;if(!e.value)return;yield z();const a=R(F(t));if(!a)return;const{bottomIncludeBody:_}=ge(a);let h=0;n.forEach(o=>{var c,s;h+=(s=(c=R(F(o)))==null?void 0:c.offsetHeight)!=null?s:0});let g=(y=P(a))!=null?y:0;$.forEach(o=>{g+=P(R(F(o)))});let f=0;function l(o,c){if(o&&c){const s=o.parentElement;s&&(ue(c)?s.classList.contains(c)?f+=P(s,"bottom"):(f+=P(s,"bottom"),l(s,c)):fe(c)&&c>0&&(f+=P(s,"bottom"),l(s,--c)))}}le(u)?l(a,F(u)):l(a,u);let m=_-F(i)-F(b)-h-g-f;const S=()=>{var o;(o=r.elements)==null||o.forEach(c=>{var s,k;m+=(k=(s=R(F(c)))==null?void 0:s.offsetHeight)!=null?k:0})};r.useLayoutFooter&&F(i)>0,S(),p.value=m})}return Re(()=>{z(()=>{w()})}),ve(()=>{w()},50,{immediate:!0}),J(()=>[i.value],()=>{w()},{flush:"post",immediate:!0}),{redoHeight:M,setCompensation:H,contentHeight:p}}const Be=Y({name:"PageWrapper",components:{PageFooter:ee,PageHeader:de},inheritAttrs:!1,props:{title:d.string,dense:d.bool,ghost:d.bool,content:d.string,contentStyle:{type:Object},contentBackground:d.bool,contentFullHeight:d.bool,contentClass:d.string,fixedHeight:d.bool,upwardSpace:d.oneOfType([d.number,d.string]).def(0)},setup(e,{slots:t,attrs:n}){const $=B(null),u=B(null),b=B(null),p=B(null),{prefixCls:i}=Z("page-wrapper");pe(We,C(()=>e.fixedHeight));const r=C(()=>e.contentFullHeight),H=C(()=>e.upwardSpace),{redoHeight:M,setCompensation:P,contentHeight:R}=we(r,$,[u,p],[b],H);P({useLayoutFooter:!0,elements:[p]});const w=C(()=>{var l;return[i,{[`${i}--dense`]:e.dense},(l=n.class)!=null?l:{}]}),a=C(()=>e.content||(t==null?void 0:t.headerContent)||e.title||h.value.length),_=C(()=>(t==null?void 0:t.leftFooter)||(t==null?void 0:t.rightFooter)),h=C(()=>Object.keys(K(t,"default","leftFooter","rightFooter","headerContent"))),g=C(()=>{const{contentFullHeight:l,contentStyle:m,fixedHeight:S}=e;if(!l)return E({},m);const y=`${F(R)}px`;return E(O(E({},m),{minHeight:y}),S?{height:y}:{})}),f=C(()=>{const{contentBackground:l,contentClass:m}=e;return[`${i}-content`,m,{[`${i}-content-bg`]:l}]});return J(()=>[_.value],()=>{M()},{flush:"post",immediate:!0}),{getContentStyle:g,wrapperRef:$,headerRef:u,contentRef:b,footerRef:p,getClass:w,getHeaderSlots:h,prefixCls:i,getShowHeader:a,getShowFooter:_,omit:K,getContentClass:f}}});function ke(e,t,n,$,u,b){const p=L("PageHeader"),i=L("PageFooter");return T(),A("div",{class:W(e.getClass),ref:"wrapperRef"},[e.getShowHeader?(T(),Q(p,ye({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),he({default:N(()=>[e.content?(T(),A(Fe,{key:0},[$e(be(e.content),1)],64)):v(e.$slots,"headerContent",{key:1})]),_:2},[me(e.getHeaderSlots,r=>({name:r,fn:N(H=>[v(e.$slots,r,He(Ce(H||{})))])}))]),1040,["ghost","title"])):U("",!0),D("div",{class:W(["overflow-hidden",e.getContentClass]),style:G(e.getContentStyle),ref:"contentRef"},[v(e.$slots,"default")],6),e.getShowFooter?(T(),Q(i,{key:1,ref:"footerRef"},{left:N(()=>[v(e.$slots,"leftFooter")]),right:N(()=>[v(e.$slots,"rightFooter")]),_:3},512)):U("",!0)],2)}const Te=q(Be,[["render",ke]]);x(ee);const Ie=x(Te),We="PageWrapperFixedHeight";export{We as P,Ie as a,Re as o};

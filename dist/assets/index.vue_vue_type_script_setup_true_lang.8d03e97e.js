var x=(m,y,f)=>new Promise((F,O)=>{var p=o=>{try{b(f.next(o))}catch(_){O(_)}},d=o=>{try{b(f.throw(o))}catch(_){O(_)}},b=o=>o.done?F(o.value):Promise.resolve(o.value).then(p,d);b((f=f.apply(m,y)).next())});import{cJ as z,a as J,e as A,v as Q,w as h,O as P,a1 as L,o as G,i as H,z as t,h as M,m as e,t as W,j as l,cR as q,B as E,K as X}from"./index.b177970f.js";/* empty css                *//* empty css                *//* empty css               */import{g as N,p as k}from"./order.1bb7ef53.js";import{u as Z}from"./accounts.4c852506.js";import{u as $}from"./change.c0a601f3.js";const ee=z({id:"quantity",state:()=>({marketOpenList:[],limitOpenList:[],limitCloseList:[]}),getters:{getMarketOpenList(){return this.marketOpenList},getLimitOpenList(){return this.limitOpenList},getLimitCloseList(){return this.limitCloseList}},actions:{setMarketOpenList(m){this.marketOpenList=m},setLimitOpenList(m){this.limitOpenList=m},setLimitCloseList(m){this.limitCloseList=m}}}),te={class:"flex justify-start align-center"},ue={class:"mr-8"},ae=E("\u505A\u591A"),le=E("\u505A\u7A7A"),ne={class:"grid grid-cols-5"},oe=E("\u5E02\u4EF7\u5F00\u4ED3"),ie=E("\u9650\u4EF7\u5F00\u4ED3"),se=E("\u5E02\u4EF7\u5E73\u4ED3"),re=E("\u9650\u4EF7\u5E73\u4ED3"),de=E("\u6B62\u635F\u4E0B\u5355"),Ee=J({__name:"index",setup(m){const{createMessage:y}=X(),f=Z(),F=ee(),O=$(),p=A(()=>f.id),d=A(()=>O.symbol),b=Q({0:0,25:25,50:50,75:75,100:100}),o=Q("Long"),_=Q(0),s=h({percent:0,MaxQuantity:0,quantity:0}),Y=C=>x(this,null,function*(){N({id:l(p),symbol:l(d),percent:C}).then(u=>{F.setMarketOpenList(u),u.forEach(n=>{n.tradeSide==(o.value=="Long"?"BUY":"SELL")&&n.symbol==l(d)&&(s.percent=n.percent,_.value=n.price,s.MaxQuantity=n.quantity,s.quantity=n.quantity)})})}),D=()=>{k({id:l(p),symbol:l(d),orderType:"MARKET",tradeSide:o.value=="Long"?"BUY":"SELL",quantity:Number(s.quantity),isOpen:!0}).then(()=>{y.success("\u4E0B\u5355\u6210\u529F")})},r=h({percent:0,MaxQuantity:0,price:0,quantity:0}),I=C=>x(this,null,function*(){N({id:l(p),symbol:l(d),percent:C,price:Number(r.price),tradeSide:o.value=="Long"?"BUY":"SELL"}).then(u=>{F.setLimitOpenList(u),u.forEach(n=>{n.tradeSide==(o.value=="Long"?"BUY":"SELL")&&(r.MaxQuantity=n.quantity,r.quantity=n.quantity)})})}),K=()=>{k({id:l(p),symbol:l(d),orderType:"LIMIT",tradeSide:o.value=="Long"?"BUY":"SELL",quantity:Number(r.quantity),price:Number(r.price),isOpen:!0}).then(()=>{y.success("\u4E0B\u5355\u6210\u529F")})},B=h({quantity:0}),R=()=>{k({id:l(p),symbol:l(d),orderType:"MARKET",tradeSide:o.value=="Long"?"SELL":"BUY",quantity:Number(B.quantity),isOpen:!1}).then(()=>{y.success("\u4E0B\u5355\u6210\u529F")})},v=h({price:0,quantity:0}),w=()=>{k({id:l(p),symbol:l(d),orderType:"LIMIT",tradeSide:o.value=="Long"?"SELL":"BUY",quantity:Number(v.quantity),price:Number(v.price),isOpen:!1}).then(()=>{y.success("\u4E0B\u5355\u6210\u529F")})},U=h({price:0}),V=()=>{k({id:l(p),symbol:l(d),orderType:"STOP_MARKET",tradeSide:o.value=="Long"?"SELL":"BUY",price:Number(U.price)}).then(()=>{y.success("\u4E0B\u5355\u6210\u529F")})};return P(()=>f.state,C=>{const u=C.symbolQuantity;u==null||u.forEach(n=>{n.tradeSide==(o.value=="Long"?"BUY":"SELL")&&n.symbol==l(d)&&(s.percent=n.percent,_.value=n.price,s.MaxQuantity=n.quantity,s.quantity=n.quantity)})}),(C,u)=>{const n=L("a-radio-button"),j=L("a-radio-group"),T=L("a-slider"),i=L("a-form-item"),c=L("a-input"),S=L("a-button"),g=L("a-form");return G(),H(l(q),null,{title:t(()=>[M("div",te,[M("div",ue,[e(j,{value:o.value,"onUpdate:value":u[0]||(u[0]=a=>o.value=a),"button-style":"solid"},{default:t(()=>[e(n,{value:"Long"},{default:t(()=>[ae]),_:1}),e(n,{value:"Short"},{default:t(()=>[le]),_:1})]),_:1},8,["value"])]),M("div",null,[M("span",null,"\u5F53\u524D\u4EF7\u683C:"+W(_.value),1)])])]),default:t(()=>[M("div",ne,[e(l(q),null,{default:t(()=>[e(g,{layout:"vertical",model:s},{default:t(()=>[e(i,{label:"\u767E\u5206\u6BD4"},{default:t(()=>[e(T,{value:s.percent,"onUpdate:value":u[1]||(u[1]=a=>s.percent=a),marks:b.value,onAfterChange:Y},null,8,["value","marks"])]),_:1}),e(i,{label:"\u6700\u5927\u6570\u91CF"},{default:t(()=>[e(c,{value:s.MaxQuantity,"onUpdate:value":u[2]||(u[2]=a=>s.MaxQuantity=a),placeholder:"input placeholder",disabled:""},null,8,["value"])]),_:1}),e(i,{label:"\u6570\u91CF"},{default:t(()=>[e(c,{value:s.quantity,"onUpdate:value":u[3]||(u[3]=a=>s.quantity=a),placeholder:"input placeholder"},null,8,["value"])]),_:1}),e(i,null,{default:t(()=>[e(S,{type:"primary",onClick:D},{default:t(()=>[oe]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(l(q),null,{default:t(()=>[e(g,{layout:"vertical",model:r},{default:t(()=>[e(i,{label:"\u6700\u5927\u6570\u91CF"},{default:t(()=>[e(c,{value:r.MaxQuantity,"onUpdate:value":u[4]||(u[4]=a=>r.MaxQuantity=a),placeholder:"input placeholder",disabled:""},null,8,["value"])]),_:1}),e(i,{label:"\u4EF7\u683C"},{default:t(()=>[e(c,{value:r.price,"onUpdate:value":u[5]||(u[5]=a=>r.price=a)},null,8,["value"])]),_:1}),e(i,{label:"\u6570\u91CF\u767E\u5206\u6BD4"},{default:t(()=>[e(T,{value:r.percent,"onUpdate:value":u[6]||(u[6]=a=>r.percent=a),marks:b.value,onAfterChange:I},null,8,["value","marks"])]),_:1}),e(i,{label:"\u6570\u91CF"},{default:t(()=>[e(c,{value:r.quantity,"onUpdate:value":u[7]||(u[7]=a=>r.quantity=a),placeholder:"input placeholder"},null,8,["value"])]),_:1}),e(i,null,{default:t(()=>[e(S,{type:"primary",onClick:K},{default:t(()=>[ie]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(l(q),null,{default:t(()=>[e(g,{model:B},{default:t(()=>[e(i,{label:"\u6570\u91CF"},{default:t(()=>[e(c,{value:B.quantity,"onUpdate:value":u[8]||(u[8]=a=>B.quantity=a),placeholder:"input placeholder"},null,8,["value"])]),_:1}),e(i,null,{default:t(()=>[e(S,{type:"primary",onClick:R},{default:t(()=>[se]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(l(q),null,{default:t(()=>[e(g,{model:v},{default:t(()=>[e(i,{label:"\u4EF7\u683C"},{default:t(()=>[e(c,{value:v.price,"onUpdate:value":u[9]||(u[9]=a=>v.price=a)},null,8,["value"])]),_:1}),e(i,{label:"\u6570\u91CF"},{default:t(()=>[e(c,{value:v.quantity,"onUpdate:value":u[10]||(u[10]=a=>v.quantity=a),placeholder:"input placeholder"},null,8,["value"])]),_:1}),e(i,null,{default:t(()=>[e(S,{type:"primary",onClick:w},{default:t(()=>[re]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(l(q),null,{default:t(()=>[e(g,{model:U},{default:t(()=>[e(i,{label:"\u4EF7\u683C"},{default:t(()=>[e(c,{value:U.price,"onUpdate:value":u[11]||(u[11]=a=>U.price=a)},null,8,["value"])]),_:1}),e(i,null,{default:t(()=>[e(S,{type:"primary",onClick:V},{default:t(()=>[de]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])]),_:1})}}});export{Ee as _};

import{b as j,B as z}from"./index.8dc6644b.js";import{u as I}from"./accounts.94aaaba1.js";import{bf as R,a as W,e as $,v as r,O as H,a1 as t,o as b,i as C,z as a,k as h,m as e,h as d,t as K,a2 as P,j as B,B as M,K as Q,Q as q}from"./index.5f31fc19.js";import"./useWindowSizeFn.b02c62d1.js";import"./FullscreenOutlined.9325667f.js";import"./account.477e3dcf.js";function G(p,v="modal"){return R.post({url:`/account/${p.id}/fund`,params:p},{errorMessageMode:v})}const J={class:"flex justify-between items-center"},L=M(" \u53EF\u7528\uFF1A"),X={style:{color:"#aaa"}},Y=M("\u5168\u90E8\u5212\u8F6C"),Z=W({__name:"blanceModal",setup(p){const v=I(),i=$(()=>v.state),F=r(!1),[k,{closeModal:w}]=j(),{createMessage:D}=Q(),x=[{label:"\u73B0\u8D27\u8D26\u6237",value:"1"},{label:"\u5408\u7EA6\u8D26\u6237",value:"0"}],g=[{label:"\u73B0\u8D27\u8D26\u6237",value:"1"},{label:"\u5408\u7EA6\u8D26\u6237",value:"0"}],u=r("1"),_=r("0"),s=r(0),n=r(0),A=()=>{s.value=n.value};H(()=>u.value,l=>{_.value=g[l],l==="1"?n.value=i.value.spotAvailable:n.value=i.value.available});const E=()=>{G({id:i.value.id,transferType:Number(u.value),percent:Number(s.value)}).then(()=>{D.success("\u5212\u8F6C\u6210\u529F"),w()}).catch(()=>{D.error("\u5212\u8F6C\u5931\u8D25")})},N=l=>{l&&(u.value="1",_.value="0",s.value=0,n.value=i.value.spotAvailable)};return(l,o)=>{const V=t("a-spin"),y=t("a-select"),m=t("a-form-item"),f=t("a-col"),T=t("a-input"),O=t("a-button"),S=t("a-row"),U=t("a-form");return b(),C(B(z),P(l.$attrs,{destroyOnClose:"",onRegister:B(k),title:"\u8D26\u6237\u5212\u8F6C",onOk:E,onVisibleChange:N}),{default:a(()=>[F.value?(b(),C(V,{key:0})):h("",!0),F.value?h("",!0):(b(),C(U,{key:1,"label-col":{span:4}},{default:a(()=>[e(S,null,{default:a(()=>[e(f,{span:12},{default:a(()=>[e(m,{label:"\u4ECE"},{default:a(()=>[e(y,{value:u.value,"onUpdate:value":o[0]||(o[0]=c=>u.value=c),style:{width:"140px"},options:x},null,8,["value"])]),_:1})]),_:1}),e(f,{span:12},{default:a(()=>[e(m,{label:"\u5230"},{default:a(()=>[e(y,{value:_.value,"onUpdate:value":o[1]||(o[1]=c=>_.value=c),style:{width:"140px"},options:g,disabled:""},null,8,["value"])]),_:1})]),_:1}),e(f,{span:24},{default:a(()=>[e(m,{label:"\u5212\u8F6C\u6570\u91CF",class:"w-11/12"},{default:a(()=>[e(T,{placeholder:"\u8BF7\u8F93\u5165\u5212\u8F6C\u91D1\u989D",size:"default",value:s.value,"onUpdate:value":o[2]||(o[2]=c=>s.value=c)},null,8,["value"]),d("div",J,[d("div",null,[L,d("samp",X,K(n.value),1)]),d("div",null,[e(O,{type:"link",onClick:A},{default:a(()=>[Y]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1},16,["onRegister"])}}});const se=q(Z,[["__scopeId","data-v-44ce1315"]]);export{se as default};
